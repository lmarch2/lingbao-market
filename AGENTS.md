# Agent Operational Protocols & Codebase Standards

## 1. Project Context & Environment
- **Stack**: TypeScript (assumed), Node.js, Modern Web Framework (React/Next.js recommended)
- **State**: Greenfield / Initial Setup
- **Shell**: Bash
- **Package Manager**: npm/pnpm/yarn (Default to `npm` until configured)

## 2. Operational Workflows

### verification
Before marking any task as complete, you MUST:
1. **Lint**: Ensure no linting errors introduced.
   ```bash
   npm run lint  # if available, otherwise check file validity
   ```
2. **Type Check**: Ensure no TypeScript errors.
   ```bash
   npx tsc --noEmit
   ```
3. **Test**: Run relevant tests.
   ```bash
   npm test              # Run all
   npm test -- <file>    # Run specific file
   ```
4. **Build**: Verify build passes.
   ```bash
   npm run build
   ```

### Code Modification
- **Atomic Changes**: Focus on one task/feature per session.
- **Safety**: NEVER suppress type errors (`as any`, `@ts-ignore`) without explicit instruction and robust justification.
- **Cleanup**: Remove unused imports and variables immediately.

## 3. Code Style & Conventions

### General
- **Indentation**: 2 spaces.
- **Quotes**: Single quotes for JS/TS, double quotes for JSX/HTML.
- **Semicolons**: Always use semicolons.
- **Trailing Commas**: ES5 compatible (objects, arrays, functions).

### Naming
- **Files**: 
  - `camelCase.ts` for utilities/logic.
  - `PascalCase.tsx` for React components.
  - `kebab-case` for config/scripts.
- **Variables/Functions**: `camelCase`.
- **Types/Interfaces**: `PascalCase` (Prefix `I` is deprecated; use descriptive names).
- **Constants**: `UPPER_CASE` for globals/env, `camelCase` for local constants.

### TypeScript
- **Strict Mode**: Enabled. No implicit `any`.
- **Types vs Interfaces**: Use `type` for unions/primitives, `interface` for object shapes (extendable).
- **Exports**: Named exports preferred over default exports for better refactoring support.

### React (if applicable)
- **Components**: Functional components only.
- **Hooks**: Custom hooks must start with `use`.
- **Props**: Destructure props in function signature.

## 4. Error Handling
- Use `try/catch` blocks for async operations.
- Throw `Error` objects, not strings.
- Log errors via a logger utility (or `console.error` if no logger exists), including context.

## 5. Agent Behavior Rules
- **Proactive**: Identify missing dependencies or setup steps.
- **Documentation**: Update README.md or TSDoc comments when changing public APIs.
- **Git**: 
  - Commit messages: `type(scope): description` (Conventional Commits).
  - Types: `feat`, `fix`, `docs`, `style`, `refactor`, `test`, `chore`.

## 6. Cursor / Copilot Instructions
*(Adapted for Agentic Context)*

- **Conciseness**: Write code that is clean, readable, and DRY.
- **Context**: Read related files (types, utils) before implementing.
- **Step-by-Step**: For complex logic, break down thinking in comments before coding.
- **Security**: Do not hardcode secrets. Use environment variables.

---
*Generated by Antigravity (Sisyphus) - `AGENTS.md` v1.0*
